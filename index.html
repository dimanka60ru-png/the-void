<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>THE VOID TEMPLE | $CLICK</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg-start: #1a1f2e;    /* Тёмный синий */
            --bg-end: #2c3a5e;       /* Глубокий синий */
            --text-col: #ecf0f1;
            --accent: #ff3b30;
            --lid: -100%;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        body { 
            background: linear-gradient(145deg, var(--bg-start), var(--bg-end));
            color: var(--text-col);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            transition: background 0.3s linear, color 0.5s ease;
            overflow-x: hidden;
            text-align: center;
            position: relative;
            padding-top: 40px; /* Поднимаем контент выше */
        }

        /* ТЕКСТУРА (более насыщенная) */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255,75,75,0.05) 0%, transparent 30%),
                radial-gradient(circle at 80% 70%, rgba(255,100,100,0.05) 0%, transparent 30%),
                repeating-linear-gradient(45deg, rgba(255,100,100,0.02) 0px, rgba(255,100,100,0.02) 2px, transparent 2px, transparent 8px);
            pointer-events: none;
            z-index: 1;
        }

        /* КРАСНЫЕ ЧАСТИЦЫ */
        .particle {
            position: fixed;
            width: 6px; height: 6px;
            background: rgba(255, 80, 80, 0.25);
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            animation: float 15s infinite linear;
            box-shadow: 0 0 8px rgba(255, 60, 60, 0.3);
        }
        .particle:nth-child(odd) {
            background: rgba(255, 120, 120, 0.3);
            box-shadow: 0 0 12px rgba(255, 80, 80, 0.4);
        }
        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.4; }
            90% { opacity: 0.4; }
            100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
        }

        /* ЛЕНГВИДЖ ПАНЕЛЬ */
        .langs { 
            position: fixed; 
            top: 20px; 
            display: flex; 
            gap: 8px; 
            z-index: 100; 
            background: rgba(10,10,20,0.4);
            backdrop-filter: blur(8px);
            padding: 8px 12px;
            border-radius: 40px;
            border: 1px solid rgba(255,100,100,0.3);
            flex-wrap: wrap;
            justify-content: center;
            max-width: 90%;
        }
        .l-btn { 
            font-size: 0.75rem; 
            cursor: pointer; 
            opacity: 0.7; 
            text-transform: uppercase;
            padding: 4px 8px;
            border-radius: 20px;
            transition: 0.2s;
            font-weight: 500;
            letter-spacing: 0.5px;
            color: rgba(255,255,255,0.9);
        }
        .l-btn.active { 
            opacity: 1; 
            background: rgba(255,70,70,0.4);
            color: #fff;
            text-shadow: 0 0 8px rgba(255,70,70,0.6);
            border: 1px solid rgba(255,100,100,0.4);
        }

        /* ЧАТ (опускаем ниже, чтобы не мешал кнопке) */
        #chat-wall { 
            position: fixed; 
            top: 60%; 
            width: 100%; 
            pointer-events: none; 
            height: 200px; 
            overflow: hidden; 
            z-index: 5; 
        }
        .m { 
            font-family: 'Playfair Display', serif; 
            font-style: italic; 
            font-size: 1.2rem; 
            animation: floatMsg 6s forwards; 
            text-align: center; 
            position: absolute; 
            left: 0; 
            right: 0; 
            color: rgba(255,255,255,0.9);
            text-shadow: 0 2px 15px rgba(255,50,50,0.4);
        }
        @keyframes floatMsg { 
            0% { opacity: 0; transform: translateY(20px); } 
            15% { opacity: 0.9; } 
            100% { opacity: 0; transform: translateY(-100px); } 
        }

        /* ОСНОВНОЙ КОНТЕЙНЕР (поднят выше) */
        .main { 
            width: 90%; 
            max-width: 600px; 
            z-index: 10; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            position: relative;
            margin-top: -50px; /* Поднимаем выше */
        }

        /* ЦИТАТА (поднята выше, крупнее) */
        #q { 
            font-family: 'Playfair Display', serif; 
            font-size: 1.8rem; 
            margin-bottom: 50px; 
            min-height: 140px; 
            width: 100%; 
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s;
            padding: 0 20px;
            text-shadow: 0 3px 20px rgba(255,50,50,0.4), 0 2px 10px rgba(0,0,0,0.5);
            line-height: 1.5;
            font-weight: 500;
            letter-spacing: 0.3px;
        }

        /* КНОПКА (НОВАЯ: ЯРКО-КРАСНАЯ, ГЛЯНЦЕВАЯ) */
        #btn { 
            width: 260px; height: 260px; 
            background: radial-gradient(circle at 30% 30%, #ff5e5e, #c62828); 
            border-radius: 50%; 
            border: 4px solid rgba(255,255,255,0.5);
            cursor: pointer; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            box-shadow: 0 30px 60px rgba(180, 30, 30, 0.6), 0 0 0 3px rgba(255,100,100,0.4), inset 0 -10px 20px rgba(0,0,0,0.5), inset 0 10px 25px rgba(255,255,255,0.4); 
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.2s;
            position: relative; 
            flex-shrink: 0; 
            margin: 20px auto 0;
            animation: bob 3s infinite ease-in-out;
        }
        @keyframes bob {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }
        #btn:hover {
            transform: scale(1.08);
            box-shadow: 0 40px 70px rgba(200, 40, 40, 0.7), 0 0 0 5px rgba(255,100,100,0.6), inset 0 -10px 20px rgba(0,0,0,0.5), inset 0 12px 25px rgba(255,255,255,0.5);
        }
        #btn:active { 
            transform: scale(0.96); 
            animation: none;
        }

        /* ГЛАЗА */
        .eyes { 
            display: flex; 
            gap: 30px; 
            margin-bottom: 15px; 
            position: relative; 
            z-index: 2; 
            pointer-events: none; 
        }
        .eye { 
            width: 60px; height: 40px; 
            background: #fff; 
            border-radius: 50%; 
            position: relative; 
            overflow: hidden; 
            border: 2px solid rgba(0,0,0,0.2);
            box-shadow: inset 0 -3px 8px rgba(0,0,0,0.2), 0 0 10px rgba(255,255,255,0.3);
        }
        .pupil { 
            width: 24px; height: 24px; 
            background: #111; 
            border-radius: 50%; 
            position: absolute; 
            top: 8px; left: 18px; 
            transition: transform 0.05s linear;
            border: 2px solid #222;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        .pupil::after {
            content: "";
            position: absolute;
            top: 5px; left: 5px;
            width: 6px; height: 6px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
        }
        .lid { 
            position: absolute; 
            top: var(--lid); 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: #ff5e5e; 
            transition: 0.1s; 
            z-index: 3; 
            border-radius: 50%;
        }

        /* РОТ */
        #mouth { 
            width: 70px; height: 30px; 
            border: 4px solid rgba(20,20,20,0.8); 
            border-top: transparent; border-left: transparent; border-right: transparent; 
            border-radius: 0 0 40px 40px; 
            transition: all 0.3s ease; 
            margin-top: 8px; 
            transform-origin: center;
            filter: drop-shadow(0 3px 5px rgba(0,0,0,0.2));
        }

        /* РУМЯНЕЦ (более яркий) */
        .blush {
            position: absolute;
            width: 40px; height: 20px;
            background: rgba(255, 90, 90, 0.4);
            border-radius: 50%;
            bottom: 65px;
            filter: blur(7px);
            transition: 0.3s;
            opacity: 0.7;
        }
        .blush-left { left: 25px; }
        .blush-right { right: 25px; }
        #btn:hover .blush {
            opacity: 1;
            background: rgba(255, 100, 100, 0.6);
            filter: blur(8px);
        }

        /* ИНТЕРФЕЙС */
        #in { 
            position: fixed; 
            bottom: 120px; 
            background: rgba(10,10,20,0.5);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255,80,80,0.4);
            border-radius: 40px;
            color: inherit; 
            text-align: center; 
            width: 300px; 
            padding: 12px 20px; 
            font-size: 0.9rem; 
            z-index: 60; 
            user-select: text; 
            box-shadow: 0 0 15px rgba(255,60,60,0.2);
        }
        .ft { 
            position: fixed; 
            bottom: 20px; 
            font-size: 0.85rem; 
            opacity: 0.9; 
            width: 100%; 
            pointer-events: none; 
            text-shadow: 0 2px 8px rgba(255,50,50,0.4);
        }
        #ca { 
            border: 1px solid rgba(255,100,100,0.4);
            background: rgba(10,10,20,0.5);
            backdrop-filter: blur(8px);
            padding: 8px 22px; 
            border-radius: 40px; 
            cursor: pointer; 
            display: inline-block; 
            margin-top: 12px; 
            pointer-events: auto;
            transition: 0.2s;
            font-size: 0.8rem;
            box-shadow: 0 0 15px rgba(255,60,60,0.2);
        }
        #ca:hover {
            background: rgba(255,80,80,0.4);
            border-color: rgba(255,120,120,0.6);
            box-shadow: 0 0 20px rgba(255,80,80,0.4);
        }

        /* ПОРОГОВЫЕ СООБЩЕНИЯ */
        .threshold-msg {
            position: fixed;
            bottom: 200px;
            font-size: 1rem;
            opacity: 0.95;
            animation: fadeUp 2s forwards;
            pointer-events: none;
            background: rgba(10,10,20,0.6);
            backdrop-filter: blur(8px);
            padding: 12px 25px;
            border-radius: 40px;
            border: 1px solid rgba(255,80,80,0.5);
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            max-width: 90%;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #fff;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
            box-shadow: 0 0 20px rgba(255,60,60,0.3);
        }
        @keyframes fadeUp {
            0% { opacity: 0; transform: translate(-50%, 10px); }
            20% { opacity: 0.95; }
            80% { opacity: 0.95; }
            100% { opacity: 0; transform: translate(-50%, -40px); }
        }
    </style>
</head>
<body>

    <!-- КРАСНЫЕ ЧАСТИЦЫ -->
    <script>
        for (let i = 0; i < 40; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDuration = (12 + Math.random() * 20) + 's';
            particle.style.animationDelay = (Math.random() * 10) + 's';
            particle.style.width = (4 + Math.random() * 10) + 'px';
            particle.style.height = particle.style.width;
            document.body.appendChild(particle);
        }
    </script>

    <!-- ПАНЕЛЬ ЯЗЫКОВ -->
    <div class="langs">
        <div class="l-btn active" onclick="setLanguage('en')">EN</div>
        <div class="l-btn" onclick="setLanguage('ru')">RU</div>
        <div class="l-btn" onclick="setLanguage('zh')">中文</div>
        <div class="l-btn" onclick="setLanguage('ja')">日本語</div>
        <div class="l-btn" onclick="setLanguage('ko')">한국어</div>
        <div class="l-btn" onclick="setLanguage('es')">ES</div>
        <div class="l-btn" onclick="setLanguage('pt')">PT</div>
        <div class="l-btn" onclick="setLanguage('tr')">TR</div>
        <div class="l-btn" onclick="setLanguage('vi')">VI</div>
        <div class="l-btn" onclick="setLanguage('de')">DE</div>
    </div>

    <div id="chat-wall"></div>

    <div class="main">
        <div id="q">The void waits for you.</div>
        <button id="btn">
            <div class="eyes">
                <div class="eye">
                    <div class="lid"></div>
                    <div class="pupil"></div>
                </div>
                <div class="eye">
                    <div class="lid"></div>
                    <div class="pupil"></div>
                </div>
            </div>
            <div class="blush blush-left"></div>
            <div class="blush blush-right"></div>
            <div id="mouth"></div>
        </button>
    </div>

    <input type="text" id="in" placeholder="whisper something..." maxlength="50" autocomplete="off">

    <div class="ft">
        <div id="cnt">your pain: 0</div>
        <div id="ca" onclick="copyCA()">CA: CZkrVESiJHyjtR39m7a5doaZwSFT5YMpy8pJMretpump</div>
    </div>

    <div id="threshold-container"></div>

<script src="https://cdn.pubnub.com/pubnub-3.7.16.js"></script>
<script>
    // === 10 ЯЗЫКОВ: ЦИТАТЫ ===
    const quotes = {
        en: [
            "I think, therefore I am. I regret both.",
            "The unexamined life is not worth living. The examined one is exhausting.",
            "We are what we repeatedly do. Unfortunately.",
            "Life is suffering. The rest is details.",
            "God is dead. And I'm not feeling so good either.",
            "When you look into the void, the void looks into you. It's tired too.",
            "I am alone. I am always alone. Even in a crowd.",
            "I can't go on. I'll go on.",
            "Hello darkness, my old friend.",
            "Nothing really matters, anyone can see.",
            "I'm tired of being almost.",
            "They promised moons. They delivered graves.",
            "I don't hope anymore. It's easier.",
            "The void is generous today. (Unfortunately.)",
            "Click. Regret. Repeat."
        ],
        ru: [
            "Я мыслю, следовательно, существую. Жалею об обоих.",
            "Неисследованная жизнь не стоит того, чтобы жить. Исследованная — выматывает.",
            "Мы есть то, что мы постоянно делаем. К сожалению.",
            "Жизнь есть страдание. Остальное — детали.",
            "Бог мёртв. И я тоже не очень.",
            "Когда ты смотришь в бездну, бездна смотрит в тебя. Она тоже устала.",
            "Я один. Я всегда один. Даже в толпе.",
            "Я не могу продолжать. Я буду продолжать.",
            "Привет, тьма, мой старый друг.",
            "Ничто не имеет значения, это видно каждому.",
            "Я устал быть почти.",
            "Они обещали луну. Они принесли могилы.",
            "Я больше не надеюсь. Так проще.",
            "Пустота сегодня щедра. (К сожалению.)",
            "Нажми. Пожалей. Повтори."
        ],
        zh: [
            "我思故我在。两者都后悔。",
            "未经审视的人生不值得过。审视后的人生令人疲惫。",
            "我们就是我们反复做的事。不幸的是。",
            "人生是苦难。其余是细节。",
            "上帝已死。我也不太好。",
            "当你凝视深渊，深渊也凝视你。它也累了。",
            "我孤独。我总是孤独。即使在人群中。",
            "我无法继续。我会继续。",
            "你好，黑暗，我的老朋友。",
            "一切皆无意义，谁都能看见。",
            "我厌倦了几乎要成为。",
            "他们承诺月亮。他们带来了坟墓。",
            "我不再希望。这样更简单。",
            "虚空今天很慷慨。（不幸的是。）",
            "点击。后悔。重复。"
        ],
        ja: [
            "我思う、故に我あり。両方を後悔している。",
            "吟味されない人生は生きる価値がない。吟味された人生は疲れる。",
            "私たちは繰り返し行うことである。残念ながら。",
            "人生は苦しみである。残りは細部だ。",
            "神は死んだ。私もあまり調子が良くない。",
            "虚空を覗き込むと、虚空もあなたを覗き込む。それも疲れている。",
            "私は孤独だ。いつも孤独だ。群衆の中でも。",
            "もう続けられない。続けるつもりだ。",
            "こんにちは、暗闇よ、古い友よ。",
            "何も重要ではない、誰の目にも明らかだ。",
            "もう希望は持たない。その方が楽だ。",
            "虚空は今日は寛大だ。（残念ながら。）",
            "クリック。後悔。繰り返す。"
        ],
        ko: [
            "나는 생각한다, 고로 존재한다. 둘 다 후회한다.",
            "검토되지 않은 삶은 살 가치가 없다. 검토된 삶은 지치게 한다.",
            "우리는 반복적으로 행하는 것들이다. 불행히도.",
            "인생은 고통이다. 나머지는 세부사항일 뿐.",
            "신은 죽었다. 나도 별로 좋지 않다.",
            "당신이 공허를 응시할 때, 공허도 당신을 응시한다. 그것도 지쳤다.",
            "나는 혼자다. 항상 혼자다. 군중 속에서도.",
            "계속할 수 없다. 계속하겠다.",
            "안녕, 어둠이여, 나의 오랜 친구여.",
            "아무것도 중요하지 않다, 누구나 알 수 있다.",
            "더 이상 희망하지 않는다. 그것이 더 쉽다.",
            "오늘 공허는 관대하다. (불행히도.)",
            "클릭. 후회. 반복."
        ],
        es: [
            "Pienso, luego existo. Me arrepiento de ambas.",
            "La vida no examinada no merece ser vivida. La examinada es agotadora.",
            "Somos lo que hacemos repetidamente. Desafortunadamente.",
            "La vida es sufrimiento. El resto son detalles.",
            "Dios ha muerto. Y yo tampoco me siento muy bien.",
            "Cuando miras al abismo, el abismo te mira a ti. También está cansado.",
            "Estoy solo. Siempre estoy solo. Incluso entre la multitud.",
            "No puedo seguir. Seguiré.",
            "Hola, oscuridad, mi vieja amiga.",
            "Nada importa realmente, cualquiera puede verlo.",
            "Ya no tengo esperanza. Es más fácil.",
            "Prometieron lunas. Entregaron tumbas.",
            "El vacío es generoso hoy. (Desafortunadamente.)",
            "Haz clic. Arrepiéntete. Repite."
        ],
        pt: [
            "Penso, logo existo. Arrependo-me de ambos.",
            "A vida não examinada não vale a pena ser vivida. A examinada é exaustiva.",
            "Somos o que fazemos repetidamente. Infelizmente.",
            "A vida é sofrimento. O resto são detalhes.",
            "Deus está morto. E eu também não estou me sentindo muito bem.",
            "Quando você olha para o abismo, o abismo olha para você. Também está cansado.",
            "Estou sozinho. Estou sempre sozinho. Mesmo na multidão.",
            "Não posso continuar. Vou continuar.",
            "Olá, escuridão, minha velha amiga.",
            "Nada realmente importa, qualquer um pode ver.",
            "Não tenho mais esperança. É mais fácil.",
            "Prometeram luas. Entregaram túmulos.",
            "O vazio é generoso hoje. (Infelizmente.)",
            "Clique. Arrependa-se. Repita."
        ],
        tr: [
            "Düşünüyorum, öyleyse varım. İkisinden de pişmanım.",
            "Sorgulanmamış hayat yaşamaya değmez. Sorgulanmış olan yorucudur.",
            "Tekrar tekrar yaptığımız şeyiz. Ne yazık ki.",
            "Hayat acı çekmektir. Gerisi detay.",
            "Tanrı öldü. Ben de pek iyi hissetmiyorum.",
            "Boşluğa baktığında, boşluk da sana bakar. O da yorgun.",
            "Yalnızım. Her zaman yalnızım. Kalabalıkta bile.",
            "Devam edemiyorum. Devam edeceğim.",
            "Merhaba karanlık, eski dostum.",
            "Hiçbir şey gerçekten önemli değil, herkes görebilir.",
            "Artık umudum yok. Bu daha kolay.",
            "Söz verdikleri ay. Teslim ettikleri mezarlar.",
            "Boşluk bugün cömert. (Ne yazık ki.)",
            "Tıkla. Pişman ol. Tekrarla."
        ],
        vi: [
            "Tôi tư duy, vậy tôi tồn tại. Tôi hối tiếc cả hai.",
            "Cuộc sống không được xem xét thì không đáng sống. Cuộc sống được xem xét thì mệt mỏi.",
            "Chúng ta là những gì chúng ta lặp đi lặp lại. Thật không may.",
            "Cuộc sống là đau khổ. Phần còn lại là chi tiết.",
            "Chúa đã chết. Và tôi cũng không cảm thấy tốt.",
            "Khi bạn nhìn vào vực thẳm, vực thẳm cũng nhìn lại bạn. Nó cũng mệt mỏi.",
            "Tôi cô đơn. Tôi luôn cô đơn. Ngay cả trong đám đông.",
            "Tôi không thể tiếp tục. Tôi sẽ tiếp tục.",
            "Xin chào bóng tối, người bạn cũ của tôi.",
            "Không có gì thực sự quan trọng, ai cũng thấy.",
            "Tôi không hy vọng nữa. Dễ hơn.",
            "Họ hứa mặt trăng. Họ mang đến nấm mồ.",
            "Hư vô hôm nay hào phóng. (Thật không may.)",
            "Nhấp. Hối tiếc. Lặp lại."
        ],
        de: [
            "Ich denke, also bin ich. Ich bereue beides.",
            "Das ungeprüfte Leben ist nicht lebenswert. Das geprüfte ist anstrengend.",
            "Wir sind, was wir wiederholt tun. Unglücklicherweise.",
            "Leben ist Leiden. Der Rest sind Details.",
            "Gott ist tot. Und mir geht es auch nicht gut.",
            "Wenn du in den Abgrund blickst, blickt der Abgrund auch in dich. Er ist auch müde.",
            "Ich bin allein. Ich bin immer allein. Sogar in der Menge.",
            "Ich kann nicht weitermachen. Ich werde weitermachen.",
            "Hallo Dunkelheit, mein alter Freund.",
            "Nichts ist wirklich wichtig, das kann jeder sehen.",
            "Ich hoffe nicht mehr. Es ist einfacher.",
            "Sie versprachen Monde. Sie lieferten Gräber.",
            "Die Leere ist heute großzügig. (Unglücklicherweise.)",
            "Klicken. Bereuen. Wiederholen."
        ]
    };

    const interfaceText = {
        en: { counterPrefix: "your pain: ", inputPlaceholder: "whisper something..." },
        ru: { counterPrefix: "твоя боль: ", inputPlaceholder: "прошепчи что-нибудь..." },
        zh: { counterPrefix: "你的痛苦: ", inputPlaceholder: "低语..." },
        ja: { counterPrefix: "あなたの痛み: ", inputPlaceholder: "ささやく..." },
        ko: { counterPrefix: "너의 고통: ", inputPlaceholder: "속삭임..." },
        es: { counterPrefix: "tu dolor: ", inputPlaceholder: "susurra algo..." },
        pt: { counterPrefix: "sua dor: ", inputPlaceholder: "sussurre algo..." },
        tr: { counterPrefix: "acın: ", inputPlaceholder: "fısılda..." },
        vi: { counterPrefix: "nỗi đau của bạn: ", inputPlaceholder: "thì thầm..." },
        de: { counterPrefix: "dein Schmerz: ", inputplaceholder: "flüstern..." }
    };

    const thresholdMessages = [
        { threshold: 50, en: "The void notices you.", ru: "Бездна замечает тебя." },
        { threshold: 100, en: "You are becoming part of the void.", ru: "Ты становишься частью пустоты." },
        { threshold: 250, en: "The button feels your pain.", ru: "Кнопка чувствует твою боль." },
        { threshold: 500, en: "You have been consumed by the void.", ru: "Ты поглощён пустотой." },
        { threshold: 750, en: "There is no turning back.", ru: "Обратного пути нет." },
        { threshold: 1000, en: "You are the void now.", ru: "Теперь ты — пустота." }
    ];

    const CA_VAL = "CZkrVESiJHyjtR39m7a5doaZwSFT5YMpy8pJMretpump";
    let clickCount = parseInt(localStorage.getItem('v_c_final')) || 0;
    let currentLang = 'en';
    let audioCtx;
    let lastThresholdShown = 0;
    let expressionTimer;
    let currentExpression = 'sad';

    document.getElementById('cnt').innerText = interfaceText[currentLang].counterPrefix + clickCount;
    document.getElementById('in').placeholder = interfaceText[currentLang].inputPlaceholder;

    function checkThreshold() {
        for (let i = 0; i < thresholdMessages.length; i++) {
            const msg = thresholdMessages[i];
            if (clickCount >= msg.threshold && msg.threshold > lastThresholdShown) {
                showThresholdMessage(msg[currentLang] || msg.en);
                lastThresholdShown = msg.threshold;
                break;
            }
        }
    }

    function showThresholdMessage(text) {
        const container = document.getElementById('threshold-container');
        const msg = document.createElement('div');
        msg.className = 'threshold-msg';
        msg.innerText = text;
        container.appendChild(msg);
        setTimeout(() => msg.remove(), 2000);
    }

    let pubnub;
    try {
        pubnub = PUBNUB.init({ 
            publish_key: 'demo', 
            subscribe_key: 'demo', 
            uuid: 'v' + Math.random().toString(36).substring(7) 
        });
        pubnub.subscribe({
            channel: 'void_temple_v4',
            message: (msg) => {
                const div = document.createElement('div'); 
                div.className = 'm'; 
                div.innerText = msg;
                document.getElementById('chat-wall').appendChild(div); 
                setTimeout(() => div.remove(), 6000);
            }
        });
    } catch(e) {}

    document.getElementById('in').addEventListener('keypress', function (e) {
        if (e.key === 'Enter' && this.value.trim() !== '') {
            if (pubnub) {
                pubnub.publish({ channel: 'void_temple_v4', message: this.value });
            }
            this.value = '';
        }
    });

    function initAudio() {
        if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        if (audioCtx.state === 'suspended') audioCtx.resume();
    }

    function playClick() {
        if (!audioCtx) return;
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = 'sine';
        osc.frequency.setValueAtTime(900, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(400, audioCtx.currentTime + 0.1);
        gain.gain.setValueAtTime(0.35, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.15);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + 0.15);
    }

    function setExpression(expr) {
        const mouth = document.getElementById('mouth');
        switch(expr) {
            case 'happy':
                mouth.style.borderRadius = '30px 30px 0 0';
                mouth.style.transform = 'rotate(180deg)';
                break;
            case 'sad':
                mouth.style.borderRadius = '0 0 40px 40px';
                mouth.style.transform = 'rotate(0deg)';
                break;
            case 'surprised':
                mouth.style.borderRadius = '50%';
                mouth.style.width = '30px';
                mouth.style.height = '30px';
                mouth.style.border = '4px solid rgba(20,20,20,0.8)';
                break;
            case 'annoyed':
                mouth.style.borderRadius = '0';
                mouth.style.width = '50px';
                mouth.style.height = '4px';
                mouth.style.border = 'none';
                mouth.style.backgroundColor = 'rgba(20,20,20,0.8)';
                break;
        }
        currentExpression = expr;
    }

    function randomExpression() {
        const exprs = ['sad', 'happy', 'surprised', 'annoyed'];
        const random = exprs[Math.floor(Math.random() * exprs.length)];
        setExpression(random);
        clearTimeout(expressionTimer);
        expressionTimer = setTimeout(() => setExpression('sad'), 2000);
    }

    function updateVisuals() {
        const root = document.documentElement;
        const progress = Math.min(clickCount / 1000, 1);
        const r = 26 + Math.floor(progress * 40);
        const g = 31 + Math.floor(progress * 40);
        const b = 46 + Math.floor(progress * 40);
        root.style.setProperty('--bg-start', `rgb(${r}, ${g}, ${b})`);
        root.style.setProperty('--bg-end', `rgb(${r+25}, ${g+25}, ${b+25})`);
        document.getElementById('cnt').innerText = interfaceText[currentLang].counterPrefix + clickCount;
    }

    function updateQuote() {
        const langQuotes = quotes[currentLang] || quotes.en;
        const randomIndex = Math.floor(Math.random() * langQuotes.length);
        document.getElementById('q').innerText = langQuotes[randomIndex];
    }

    function blink() {
        const root = document.documentElement;
        root.style.setProperty('--lid', '0%');
        setTimeout(() => root.style.setProperty('--lid', '-100%'), 150);
    }
    setInterval(blink, 4000);

    const button = document.getElementById('btn');
    
    button.onmousedown = (e) => { 
        e.preventDefault();
        initAudio(); 
        document.documentElement.style.setProperty('--lid', '0%'); 
        playClick(); 
    };
    
    button.onmouseup = () => {
        clickCount++; 
        localStorage.setItem('v_c_final', clickCount);
        document.documentElement.style.setProperty('--lid', '-100%'); 
        randomExpression();
        updateQuote();
        updateVisuals();
        checkThreshold();
    };

    button.ontouchstart = button.onmousedown;
    button.ontouchend = button.onmouseup;

    document.addEventListener('mousemove', (e) => {
        document.querySelectorAll('.pupil').forEach(pupil => {
            const rect = pupil.getBoundingClientRect();
            const dx = e.clientX - (rect.left + rect.width/2);
            const dy = e.clientY - (rect.top + rect.height/2);
            const angle = Math.atan2(dy, dx);
            const distance = Math.min(10, Math.sqrt(dx*dx + dy*dy) / 20);
            const x = Math.cos(angle) * distance;
            const y = Math.sin(angle) * distance;
            pupil.style.transform = `translate(${x}px, ${y}px)`;
        });
    });

    function setLanguage(lang) { 
        currentLang = lang; 
        document.querySelectorAll('.l-btn').forEach(btn => {
            btn.classList.toggle('active', btn.innerText.toLowerCase().includes(lang) || 
                (lang === 'zh' && btn.innerText.includes('中文')) ||
                (lang === 'ja' && btn.innerText.includes('日本語')) ||
                (lang === 'ko' && btn.innerText.includes('한국어')));
        });
        document.getElementById('in').placeholder = interfaceText[lang].inputPlaceholder;
        document.getElementById('cnt').innerText = interfaceText[lang].counterPrefix + clickCount;
        updateQuote();
    }

    function copyCA() { 
        navigator.clipboard.writeText(CA_VAL); 
        const caElem = document.getElementById('ca');
        const originalText = caElem.innerText;
        caElem.innerText = "✅ COPIED"; 
        setTimeout(() => caElem.innerText = originalText, 1000); 
    }

    window.onload = () => {
        updateVisuals();
        updateQuote();
        checkThreshold();
        setExpression('sad');
    };
</script>
</body>
</html>
