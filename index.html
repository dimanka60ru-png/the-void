<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sad Button</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #0a0a0a;
            color: #e0e0e0;
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            padding: 16px;
        }

        .container {
            max-width: 600px;
            width: 100%;
        }

        .quote {
            font-size: 1.8rem;
            line-height: 1.5;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            padding: 20px;
            font-style: italic;
        }

        .button-wrapper {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        #sadButton {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle at 30% 30%, #b33, #800);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(180, 0, 0, 0.5);
            transition: transform 0.1s;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        #sadButton:active {
            transform: scale(0.95);
        }

        .eyes {
            display: flex;
            gap: 30px;
            margin-bottom: 10px;
        }

        .eye {
            width: 50px;
            height: 35px;
            background: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid #111;
        }

        .pupil {
            width: 20px;
            height: 20px;
            background: #111;
            border-radius: 50%;
            transition: transform 0.05s;
        }

        .mouth {
            width: 70px;
            height: 40px;
            border-bottom: 8px solid #111;
            border-radius: 0 0 50px 50px;
        }

        .counters {
            display: flex;
            flex-direction: column;
            gap: 10px;
            font-size: 1.2rem;
        }
        .counters div {
            background: #1a1a1a;
            padding: 10px 20px;
            border-radius: 40px;
            border: 1px solid #333;
        }
        .collective {
            color: #ffd700;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="quote" id="quote">Click the button.</div>
        
        <div class="button-wrapper">
            <button id="sadButton">
                <div class="eyes">
                    <div class="eye"><div class="pupil"></div></div>
                    <div class="eye"><div class="pupil"></div></div>
                </div>
                <div class="mouth"></div>
            </button>
        </div>

        <div class="counters">
            <div id="personalCount">My regrets: 0</div>
            <div class="collective" id="globalCount">Collective regret: 0</div>
        </div>
    </div>

    <script>
        // === НАСТРОЙКИ ===
        const CA = "CZkrVESiJHyjtR39m7a5doaZwSFT5YMpy8pJMretpump";
        
        // === ДАННЫЕ ===
        let personalClicks = parseInt(localStorage.getItem('click_personal')) || 0;
        let globalClicks = 0;
        let currentLang = 'en';

        // === ЦИТАТЫ ===
        const quotes = [
            "I think, therefore I am. I regret both.",
            "The unexamined life is not worth living.",
            "We are what we repeatedly do. Unfortunately.",
            "Life is suffering. The rest is details.",
            "God is dead. And I'm not feeling so good either.",
            "When you look into the void, the void looks into you. It's tired too.",
            "I am alone. I am always alone. Even in a crowd.",
            "I can't go on. I'll go on.",
            "Hello darkness, my old friend.",
            "Nothing really matters, anyone can see.",
            "They promised moons. They delivered graves.",
            "Click. Regret. Repeat."
        ];

        // === ЭЛЕМЕНТЫ ===
        const quoteEl = document.getElementById('quote');
        const personalEl = document.getElementById('personalCount');
        const globalEl = document.getElementById('globalCount');
        const button = document.getElementById('sadButton');
        const pupils = document.querySelectorAll('.pupil');

        // === ФУНКЦИИ ОБНОВЛЕНИЯ ===
        function updateQuote() {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            quoteEl.textContent = quotes[randomIndex];
        }

        function updateCounters() {
            personalEl.textContent = `My regrets: ${personalClicks}`;
            globalEl.textContent = `Collective regret: ${globalClicks}`;
        }

        // === ОБРАБОТКА КЛИКА ===
        button.addEventListener('click', (e) => {
            e.preventDefault();
            
            // Личные клики
            personalClicks++;
            localStorage.setItem('click_personal', personalClicks);
            
            // Глобальные клики (локально, без PubNub для простоты)
            globalClicks++;
            
            // Новая цитата
            updateQuote();
            
            // Обновить счётчики
            updateCounters();
        });

        // === ЗРАЧКИ СЛЕДЯТ ЗА МЫШКОЙ ===
        document.addEventListener('mousemove', (e) => {
            pupils.forEach(pupil => {
                const rect = pupil.getBoundingClientRect();
                const dx = e.clientX - (rect.left + rect.width/2);
                const dy = e.clientY - (rect.top + rect.height/2);
                const angle = Math.atan2(dy, dx);
                const distance = Math.min(8, Math.sqrt(dx*dx + dy*dy) / 15);
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;
                pupil.style.transform = `translate(${x}px, ${y}px)`;
            });
        });

        // === ИНИЦИАЛИЗАЦИЯ ===
        updateCounters();
        updateQuote();
    </script>
</body>
</html>
